spring.application.name=api-gateway

# ===================================================================
# SERVER CONFIGURATION
# ===================================================================
# ðŸ”§ server.address=0.0.0.0 allows access from:
#    - localhost (same machine)
#    - Network IP (other machines on same network)
# ===================================================================
server.port=8080
server.address=0.0.0.0

# Gateway Configuration - Enable MVC Gateway
spring.cloud.gateway.mvc.enabled=true

# ===================================================================
# BACKEND SERVICE URLS
# ===================================================================
# ðŸ”§ CHANGE THESE when backend services are on different machines
# Current: All services on localhost (same machine)
# ===================================================================
# Spring Boot Backend (Students & Universities)
spring.backend.url=http://localhost:8081

# Django Backend (Courses & Enrollments)
django.backend.url=http://localhost:9090

# ===================================================================
# ROUTE CONFIGURATION
# ===================================================================
# Routes use the variables defined above
# No need to change these unless modifying route paths
# ===================================================================

# Route Configuration - Spring Boot Backend (Students & Universities)
spring.cloud.gateway.mvc.routes[0].id=spring-students
spring.cloud.gateway.mvc.routes[0].uri=${spring.backend.url}
spring.cloud.gateway.mvc.routes[0].predicates[0]=Path=/api/students/**

spring.cloud.gateway.mvc.routes[1].id=spring-universities
spring.cloud.gateway.mvc.routes[1].uri=${spring.backend.url}
spring.cloud.gateway.mvc.routes[1].predicates[0]=Path=/api/universities/**

# Route Configuration - Django Backend (Courses & Enrollments)
spring.cloud.gateway.mvc.routes[2].id=django-courses
spring.cloud.gateway.mvc.routes[2].uri=${django.backend.url}
spring.cloud.gateway.mvc.routes[2].predicates[0]=Path=/api/courses/**

spring.cloud.gateway.mvc.routes[3].id=django-enrollments
spring.cloud.gateway.mvc.routes[3].uri=${django.backend.url}
spring.cloud.gateway.mvc.routes[3].predicates[0]=Path=/api/enrollments/**

# Route Configuration - GraphQL (Spring Boot)
spring.cloud.gateway.mvc.routes[4].id=spring-graphql
spring.cloud.gateway.mvc.routes[4].uri=${spring.backend.url}
spring.cloud.gateway.mvc.routes[4].predicates[0]=Path=/graphql/spring/**

# Route Configuration - GraphQL (Django)
spring.cloud.gateway.mvc.routes[5].id=django-graphql
spring.cloud.gateway.mvc.routes[5].uri=${django.backend.url}
spring.cloud.gateway.mvc.routes[5].predicates[0]=Path=/graphql/django/**

# Logging
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.org.springframework.web=DEBUG
